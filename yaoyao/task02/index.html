<!DOCTYPE html>
<html lang="en">

<head>
  <title></title>
  <meta charset="UTF-8">
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    
    .container {
      width: 750px;
      margin: 20px auto;
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 20px;
    }
    
    .row {
      clear: both;
      margin-bottom: 15px;
    }
    .row:after{
      display: table;
      content: "";
      clear: both;
      overflow: hidden;
    }
    
    .form-label {
      width: 100px;
      float: left;
      line-height: 42px;
      text-align: right;
    }
    
    .form-input {
      margin-left: 120px;
      padding: 0 15px;
    }
    
    .input-contrl {
      border: 1px solid #ccc;
      padding: 10px;
      line-height: 20px;
      width: 578px;
      height: 20px;
      border-radius: 5px;
      font-size: 14px;
    }
    
    .form-info {
      font-size: 14px;
      color: #aaa;
      padding-top: 10px;
    }
    
    .form-btn {
      text-align: right;
      padding:15px;
    }
    
    .btn {
      border: none;
      padding: 0 25px;
      border-radius: 5px;
      height: 42px;
      line-height: 42px;
      cursor: pointer;
      color: #fff;
      background: #0d7bea;
      font-size: 14px;
    }
    
    .input-contrl.red {
      border-color: #d20f38;
    }
    
    .input-contrl.green {
      border-color: #44b52e;
    }
    
    .form-info.red {
      color: #d20f38;
    }
    
    .form-info.green {
      color: #44b52e;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="row">
      <label class="form-label" for="name">名称：</label>
      <div class="form-input">
        <input type="text" placeholder="请输入" class="input-contrl" id="name">
        <!--<div class="form-info">必填，长度为4~16字符</div>-->
      </div>
    </div>
    <div class="row">
      <label class="form-label">密码：</label>
      <div class="form-input">
        <input type="password" placeholder="请输入" class="input-contrl" id="password">
      </div>
    </div>
    <div class="row">
      <label class="form-label">确认密码：</label>
      <div class="form-input">
        <input type="password" placeholder="请输入" class="input-contrl" id="password2">
      </div>
    </div>
    <div class="row">
      <label class="form-label">邮箱：</label>
      <div class="form-input">
        <input type="text" placeholder="请输入" class="input-contrl" id="mail">
      </div>
    </div>
    <div class="row">
      <label class="form-label">手机：</label>
      <div class="form-input">
        <input type="tel" placeholder="请输入" class="input-contrl" id="phone">
      </div>
    </div>
    <div class="form-btn">
      <button class="btn">验证</button>
    </div>
  </div>
  <script>
    window.onload = function () {
      var name = document.getElementById("name");
      var password = document.getElementById("password");
      var password2 = document.getElementById("password2");
      function validate (input,term){
        input.onfocus = function(){
          if(!!input.value.trim()){
            return;            
          }
          var div = document.createElement("div");
          input.nextSibling.remove();
          input.after(div);
          div.innerText="必填，长度为4~16字符";
          div.setAttribute("class","form-info");
        };
        input.onblur = function(){
          var value = input.value.trim();
          if(!!value){
            console.log(value)
            if(term.test(value)){
              input.classList = "input-contrl green";
              input.nextSibling.classList = "form-info green";
              input.nextSibling.innerHTML="填写正确"
            }else{
              input.classList = "input-contrl red";
              input.nextSibling.classList = "form-info red";
              input.nextSibling.innerHTML="填写错误";
            }
          }else{
            input.classList = "input-contrl red";
            input.nextSibling.classList = "form-info red";
            input.nextSibling.innerHTML="不能为空";
          };
        };
      };
      validate(name,/\d{4,16}/);
      validate(password,/\d{4,16}/);
      validate(password2, /\d{4,16}/);
      validate(mail, /\d{4,16}/);
      validate(phone, /^1+\d{10}/);
    };
  </script>
</body>

</html>